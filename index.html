<!DOCTYPE html>
<html lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
.dropbtn {
    background-color: #3498DB;
    color: white;
    font-size: 12px;
    border: none;
    cursor: pointer;
}
.dropbtn:hover, .dropbtn:focus {
    background-color: #2980B9;
}
.dropdown {
    position: relative;
    display: inline-block;
}
.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f1f1f1;
    min-width: 160px;
    overflow: auto;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
}
.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}
.dropdown a:hover {background-color: #ddd}
.show {display:block;}
</style>
<head>
    <meta charset="utf-8">
    <title>Rental Form for Thrive Items</title>
</head>
<h4 style="font-size: 12pt">Thank you for your interest in renting an item from the Office of Wellbeing. </h4>
<h4 style="font-size: 12pt">Please take a minute to fill out this information so that we may further assist you.</h4>
<iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vQt06VX0JoxcjD8UVIURZl7gNZE6aGIkwdTMMrTQ9EWY2tNbV4Fxn5Arq9IwC65vgQHvj9T3Sv7YcHN/pubhtml?widget=true&amp;headers=false" width="400" height="300"></iframe>
<iframe src="https://calendar.google.com/calendar/embed?src=wfu.edu_qm1vp6l2ve1p64dngq2khm7490%40group.calendar.google.com&ctz=America%2FNew_York" style="border: 0" width="400" height="300" frameborder="0" scrolling="no"></iframe>
<body>
<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
<iframe src="https://docs.google.com/forms/d/e/1FAIpQLScj972orzTKmO9aArQz4sNfViBQGe4oW4DB7h7LFXz20aqdfg/viewform?embedded=true" width="400" height="220" frameborder="0" marginheight="0" marginwidth="0"></iframe>
<form id="rentals-form" action="" method="POST" target="no-target">
  <input id="itemnameInput" placeholder="Enter the name of the item: " name="itemname" style="height:20px; width:800px; font-size:12pt;"> <p></p>
  <input id="nameInput" placeholder="Enter your name: " name="username" style="height:20px; width:800px; font-size:12pt;"> <p></p>
  <input id="WFUIDinput" placeholder="Enter your WFU ID: " name="ID" style="height:20px; width:800px; font-size:12pt;"> <p></p>
  <input id="DurationInput" placeholder="When do you need this item? (Please consult the calendar first.) " style="height:20px; width:800px; font-size:12pt;"> <p></p>
  <input id="PurposeInput" placeholder="What is your purpose with this item? " name="purpose" style="height:20px; width:800px; font-size:12pt;"> <p></p>
  <input id="ProgramInput" placeholder="What program are you associated with? " name="prog" style="height:20px; width:800px; font-size:12pt;"> <p></p>
  <input id="BudgetCodeInput" placeholder="Enter your budget code: " name="code" style="height:20px; width:800px; font-size:12pt;"> <p></p>
  <textarea cols="50" rows="8" style="font-size:8pt">
Note: There is no charge for renting Office of Wellbeing supplies; however, budget codes will be utilized in the event that all rented items are not returned in a timely manner, or are damaged upon return. Renters will be charged a fair market price for all items that the Office of Wellbeing must replace and will be notified of the cost of replacement. Please contact the Office of Wellbeing at thrive@wfu.edu or (336) 758-3089 with any questions or concerns.
</textarea>
<p></p>
  <button id="form-submit" type="submit" style="font-size: 12pt">Click here to submit your request for approval.</button>
</form>

<iframe src="#" id="no-target" name="no-target" style="visibility:hidden"></iframe>

<script>
    /* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */
function myFunction() {
    document.getElementById("myDropdown").classList.toggle("show");
}
// Close the dropdown if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
    $('#rentals-form').one('submit',function(){
        var baseURL = "https://docs.google.com/forms/d/e/1FAIpQLScj972orzTKmO9aArQz4sNfViBQGe4oW4DB7h7LFXz20aqdfg/formResponse?";
        var submitRef = '&submit=Submit';
        var itemName = encodeURIComponent($('#itemnameInput').val());
        var itemNameID = "entry.1508997320";
        var name = encodeURIComponent($('#nameInput').val());
        var Nameentry = "entry.283086600";
        var WFUID = encodeURIComponent($('#WFUIDinput').val());
        var WFUIDentry = "entry.311100907";
        var Duration = encodeURIComponent($('#DurationInput').val());
        var durationEntryID = "entry.1081470627";
        var Purpose = encodeURIComponent($('#PurposeInput').val());
        var purposeEntryID = "entry.1415685493";
        var Program = encodeURIComponent($('#ProgramInput').val());
        var programEntryID = "entry.239515075";
        var BudgetCode = encodeURIComponent($('#BudgetCodeInput').val());
        var budgetCodeEntryID = "entry.690398014";
        var submitURL = (baseURL + itemNameID + "=" + itemName + "&" + Nameentry + "=" + name + "&" + WFUIDentry + "=" + WFUID + "&" + durationEntryID + "=" + Duration + "&" + purposeEntryID + "=" + Purpose + "&" + programEntryID + "=" + Program + "&" + budgetCodeEntryID + "=" + BudgetCode + submitRef);
        console.log(submitURL);
        $(this)[0].action=submitURL;
        
    });

</script>
</body>
</html>
